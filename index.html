<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>圣诞主题</title>
	<link rel="stylesheet" type="text/css" href="css/common.css">
	<link rel="stylesheet" type="text/css" href="css/pageA.css">
	<link rel="stylesheet" type="text/css" href="css/pageB.css">
	<link rel="stylesheet" type="text/css" href="css/pageC.css">
	<script type="text/javascript" src="lib/jquery－1.12.4.min.js"></script>
	<script type="text/javascript" src="lib/jquery.transit.min.js"></script>
	<script type="text/javascript" src="lib/observer.js"></script>
	<script type="text/javascript" src="js/christmas.js"></script>
	<script type="text/javascript" src="js/pageA.js"></script>
	<script type="text/javascript" src="js/pageB.js"></script>
	<script type="text/javascript" src="js/pageC.js"></script>
</head>
<body>
	<section class="container" id="container">
		<!-- page1 -->
		<section class="page-a bg-adaptive">
			<!-- 南瓜马车与公主 -->
        	<div class="lit-princess pumpkin-car"></div>
            <figure class="moon"></figure>
			<figure class="tree1"></figure>
			<figure class="cloudy"></figure>
		</section>
		<!-- page2 -->
		<section class="page-b bg-adaptive">
			
            <!-- 狗狗 -->
            <figure class="dog"></figure>
			<!-- princess -->
        	<div class="princess princess-walk"></div>
		</section>
		<!-- page3 -->
		<section class="page-c bg-adaptive">
		 	<figure class="moon"></figure>
			<figure class="tree"></figure>
		</section>
	</section>
</body>
<script type="text/javascript">

	var docEl = document.documentElement,
		// 检测设备window是否有onorientationchange方法
		resizeEvt = 'onorientationchange' in window ? 'orientationchange':'resize',
		//设置根字体大小
		recalc = function(){
	    	console.log(resizeEvt)
			if(resizeEvt === "resize"){
                docEl.style.fontSize  = 20 * (docEl.clientWidth / 320) + 'px';
			}else{
                docEl.style.fontSize  = 20 * (docEl.clientWidth / 214) + 'px';
                var width = docEl.clientWidth;
                var height = docEl.clientHeight;
                var contentDOM = document.getElementById('container');
                // 手机端
                if (window.orientation === 90 || window.orientation === -90) { //旋转到 90 或 -90 度，即竖屏到横屏
                    screen_width = height; //横屏，灵感的宽度就等于屏高
                    contentDOM.style.width = height + 'px';
                    contentDOM.style.height = width + 'px';
                    contentDOM.style.top = '0px';
                    contentDOM.style.left = '0px';
                    contentDOM.style.transform = 'none'; //不旋转；
                }else{ //旋转到 180 或 0 度，即横屏到竖屏
                    screen_width = height; //竖屏，灵感的宽度就等于屏高
                    contentDOM.style.width = height + 'px';
                    contentDOM.style.height = width + 'px';
                    contentDOM.style.top = (height - width) / 2 + 'px';
                    contentDOM.style.left = 0 - (height - width) / 2 + 'px';
                    contentDOM.style.transform = 'rotate(90deg)'; //旋转90度
                }
			}
		};

	// 绑定浏览器缩放与加载时间
	window.addEventListener(resizeEvt,recalc,false);
	document.addEventListener('DOMContentLoaded',recalc,false);
</script>
</html>